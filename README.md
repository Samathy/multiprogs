You can build either program like so:

    make prog1 CFLAGS=-D=prog1
    make prog2 CFLAGS=-D=prog2

You must;
    make clean

between building prog1, and prog2

